!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SWO=t():e.SWO=t()}(this,(()=>(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}e.d(t,{default:()=>a});var i=function(){return e=function e(t,o){var n,s;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"==typeof t||t instanceof HTMLElement?(n="string"==typeof t?document.querySelector(t):t,s=o||{}):(s=t||{},n=document.querySelector("[data-swo]")),n){this.targetElement=n,this.targetElement.classList.add("swo-container");var i="swo-instance-".concat(Math.random().toString(36).substring(2,9));this.options={code:s.code||this.targetElement.dataset.swoCode||this._getDefaultInitialCode(),storageKey:s.storageKey||this.targetElement.dataset.swoStorageKey||"senangwebs-one-editor-content-".concat(i)},this.elements={},this.monacoEditor=null,this.isResizingPanes=!1,this.isResizingConsole=!1,this._createUI(),this._cacheElements(),this._initMonaco(),this._initEventListeners(),this._initialLayout(),this._loadCode(),this.updatePreview()}else console.error("SWO: Target element not found. Please provide a valid selector, DOM element, or ensure a [data-swo] element exists.")},t=[{key:"_createUI",value:function(){this.targetElement.innerHTML='\n            <div class="swo-main-wrapper">\n                <section class="swo-panel-editor-preview">\n                    <div class="swo-editor-pane">\n                        <div class="swo-editor-monaco-container">\n                            <div class="swo-code-editor-container"></div>\n                        </div>\n                        <button class="swo-code-prettier-btn">PRETTIER</button>\n                    </div>\n            \n                    <div class="swo-resize-handle"></div>\n            \n                    <div class="swo-right-pane">\n                        <div class="swo-preview-pane-container">\n                            <div class="swo-preview-devices-container">\n                                <iframe class="swo-preview-frame" sandbox="allow-scripts allow-popups allow-forms allow-same-origin"></iframe>\n                            </div>\n                        </div>\n\n                        <div class="swo-resize-handle-console"></div>\n            \n                        <div class="swo-console-container">\n                            <div class="swo-console-header">\n                                <span class="swo-console-title">Console</span>\n                                <button class="swo-clear-console-btn">Clear</button>\n                            </div>\n                            <div class="swo-console-output"></div>\n                        </div>\n            \n                        <div class="swo-preview-frame-cover-resizeable swo-hidden"></div>\n                    </div>\n                </section>\n                <section class="swo-panel-control">\n                    <div class="swo-panel-control-group-left">\n                        <button class="swo-control-button swo-resize-desktop" title="Desktop View">\n                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">\x3c!--!Font Awesome Free v6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--\x3e<path d="M64 0C28.7 0 0 28.7 0 64L0 352c0 35.3 28.7 64 64 64l176 0-10.7 32L160 448c-17.7 0-32 14.3-32 32s14.3 32 32 32l256 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-69.3 0L336 416l176 0c35.3 0 64-28.7 64-64l0-288c0-35.3-28.7-64-64-64L64 0zM512 64l0 224L64 288 64 64l448 0z"/></svg>\n                        </button>\n                        <button class="swo-control-button swo-resize-tablet" title="Tablet View">\n                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!--!Font Awesome Free v5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--\x3e<path d="M400 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM224 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm176-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h328c6.6 0 12 5.4 12 12v312z"/></svg>\n                        </button>\n                        <button class="swo-control-button swo-resize-mobile" title="Mobile View">\n                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">\x3c!--!Font Awesome Free v5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--\x3e<path d="M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"/></svg>\n                        </button>\n                    </div>\n                    <div class="swo-panel-control-group-center">\n                        <button class="swo-control-button swo-refresh-preview" title="Refresh Preview">\n                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--!Font Awesome Free v5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--\x3e<path d="M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"/></svg>\n                        </button>                \n                    </div>\n                    <div class="swo-panel-control-group-right">\n                        <button class="swo-control-button swo-toggle-code-editor-btn" title="Toggle Code Editor">\n                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">\x3c!--!Font Awesome Free v5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--\x3e<path d="M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"/></svg>\n                        </button>\n                        <button class="swo-control-button swo-toggle-console-btn" title="Toggle Console">\n                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">\x3c!--!Font Awesome Free v5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--\x3e<path d="M257.981 272.971L63.638 467.314c-9.373 9.373-24.569 9.373-33.941 0L7.029 444.647c-9.357-9.357-9.375-24.522-.04-33.901L161.011 256 6.99 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L257.981 239.03c9.373 9.372 9.373 24.568 0 33.941zM640 456v-32c0-13.255-10.745-24-24-24H312c-13.255 0-24 10.745-24 24v32c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24z"/></svg>\n                        </button>\n                        <button class="swo-control-button swo-open-new-tab" title="Open in New Tab">\n                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!--!Font Awesome Free v6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--\x3e<path d="M349.4 44.6c5.9-13.7 1.5-29.7-10.6-38.5s-28.6-8-39.9 1.8l-256 224c-10 8.8-13.6 22.9-8.9 35.3S50.7 288 64 288l111.5 0L98.6 467.4c-5.9 13.7-1.5 29.7 10.6 38.5s28.6 8 39.9-1.8l256-224c10-8.8 13.6-22.9 8.9-35.3s-16.6-20.7-30-20.7l-111.5 0L349.4 44.6z"/></svg>\n                        </button>\n                    </div>\n                </section>\n            </div>\n        '}},{key:"_cacheElements",value:function(){var e=this.elements,t=this.targetElement;e.editorPane=t.querySelector(".swo-editor-pane"),e.codeEditorContainer=t.querySelector(".swo-code-editor-container"),e.codePrettierBtn=t.querySelector(".swo-code-prettier-btn"),e.resizeHandle=t.querySelector(".swo-resize-handle"),e.rightPane=t.querySelector(".swo-right-pane"),e.previewPaneContainer=t.querySelector(".swo-preview-pane-container"),e.previewDevicesContainer=t.querySelector(".swo-preview-devices-container"),e.previewFrame=t.querySelector(".swo-preview-frame"),e.resizeHandleConsole=t.querySelector(".swo-resize-handle-console"),e.consoleContainer=t.querySelector(".swo-console-container"),e.consoleOutput=t.querySelector(".swo-console-output"),e.clearConsoleBtn=t.querySelector(".swo-clear-console-btn"),e.previewFrameCover=t.querySelector(".swo-preview-frame-cover-resizeable"),e.toggleCodeEditorBtn=t.querySelector(".swo-toggle-code-editor-btn"),e.toggleConsoleBtn=t.querySelector(".swo-toggle-console-btn"),e.resizeDesktopBtn=t.querySelector(".swo-resize-desktop"),e.resizeTabletBtn=t.querySelector(".swo-resize-tablet"),e.resizeMobileBtn=t.querySelector(".swo-resize-mobile"),e.refreshPreviewBtn=t.querySelector(".swo-refresh-preview"),e.openNewTabBtn=t.querySelector(".swo-open-new-tab"),e.codeEditorUIElements=t.querySelectorAll(".swo-editor-pane, .swo-resize-handle"),e.consoleUIElements=t.querySelectorAll(".swo-console-container, .swo-resize-handle-console")}},{key:"_initMonaco",value:function(){var e,t=this;if("undefined"==typeof monaco)return console.error("SWO: Monaco Editor not found. Please include Monaco Editor."),void(this.elements.codeEditorContainer.innerHTML='<div style="padding: 20px; color: #fff; background: #1e1e1e;">Monaco Editor not loaded. Please include it.</div>');this.monacoEditor=monaco.editor.create(this.elements.codeEditorContainer,{value:this.options.code||this._getDefaultInitialCode(),language:"html",theme:"vs-dark",automaticLayout:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,tabSize:2,insertSpaces:!0,wordWrap:"on",fontSize:14,lineHeight:1.5}),this.monacoEditor.onDidChangeModelContent((function(){t._saveCode(t.monacoEditor.getValue()),clearTimeout(e),e=setTimeout((function(){return t.updatePreview()}),300)}))}},{key:"_initEventListeners",value:function(){var e=this,t=this.elements;t.codePrettierBtn&&("function"==typeof html_beautify?t.codePrettierBtn.addEventListener("click",(function(){return e.formatCode()})):(t.codePrettierBtn.disabled=!0,t.codePrettierBtn.title="Formatting library (js-beautify) not loaded",console.warn('SWO: html_beautify function not found. The "Prettier" button will be disabled.'))),t.resizeHandle.addEventListener("mousedown",this._onPaneResizeMouseDown.bind(this)),t.resizeHandle.addEventListener("dblclick",this._onPaneResizeDoubleClick.bind(this)),t.resizeHandleConsole.addEventListener("mousedown",this._onConsoleResizeMouseDown.bind(this)),t.clearConsoleBtn.addEventListener("click",(function(){return e._clearConsoleOutput(!0)})),t.resizeDesktopBtn.addEventListener("click",(function(){return e.resizePreviewDevice("100%","100%")})),t.resizeTabletBtn.addEventListener("click",(function(){return e.resizePreviewDevice("1070px","100%")})),t.resizeMobileBtn.addEventListener("click",(function(){return e.resizePreviewDevice("390px","844px")})),t.refreshPreviewBtn.addEventListener("click",(function(){return e.updatePreview()})),t.openNewTabBtn.addEventListener("click",(function(){return e.openPreviewInNewTab()})),t.toggleCodeEditorBtn.addEventListener("click",(function(){return e.toggleCodeEditor()})),t.toggleConsoleBtn.addEventListener("click",(function(){return e.toggleConsole()})),window.addEventListener("message",this._handleIframeMessage.bind(this))}},{key:"_initialLayout",value:function(){this.elements.editorPane.style.width="calc(50% - 0.25rem)",this.elements.consoleUIElements.forEach((function(e){return e.classList.add("swo-hidden")})),this._updateButtonActiveState(this.elements.toggleConsoleBtn,!1),this.elements.previewPaneContainer.style.height="".concat(this.elements.rightPane.offsetHeight,"px"),this._updateButtonActiveState(this.elements.toggleCodeEditorBtn,!0)}},{key:"_loadCode",value:function(){var e=localStorage.getItem(this.options.storageKey),t=null!==this.options.code?this.options.code:e;this.monacoEditor&&this.monacoEditor.setValue(t||this._getDefaultInitialCode())}},{key:"_saveCode",value:function(e){localStorage.setItem(this.options.storageKey,e)}},{key:"_getIframeConsoleBridgeScript",value:function(){return"\n<script id=\"iframe-console-bridge\">\n(function() {\n    'use strict';\n    if (window.parent === window) return; // Don't run if not in an iframe or if it's top window\n\n    const originalConsole = {};\n    const methods = ['log', 'error', 'warn', 'info', 'debug', 'clear'];\n    methods.forEach(method => {\n        originalConsole[method] = console[method] ? console[method].bind(console) : () => {};\n    });\n\n    function formatArgsForPostMessage(args) {\n        return Array.from(args).map(arg => {\n            if (arg instanceof Error) return `Error: ${arg.message}${arg.stack ? `\\nStack: ${arg.stack}` : ''}`;\n            if (arg instanceof HTMLElement) {\n                let attrs = Array.from(arg.attributes).map(attr => `${attr.name}=\"${attr.value}\"`).join(' ');\n                return `<${arg.tagName.toLowerCase()}${attrs ? ' ' + attrs : ''}>...`;\n            }\n            if (typeof arg === 'function') return '[Function]';\n            if (typeof arg === 'symbol') return arg.toString();\n            // Basic object serialization, trying to catch circular refs\n            if (typeof arg === 'object' && arg !== null) {\n                try {\n                    const cache = new Set();\n                    return JSON.stringify(arg, (key, value) => {\n                        if (typeof value === 'object' && value !== null) {\n                            if (cache.has(value)) return '[Circular Reference]';\n                            cache.add(value);\n                        }\n                        if (value instanceof HTMLElement) return `<${value.tagName.toLowerCase()}> (embedded HTML Element)`;\n                        return value;\n                    }, 2);\n                } catch (e) { return '[Unserializable Object]'; }\n            }\n            return String(arg);\n        });\n    }\n\n    methods.forEach(methodName => {\n        if (methodName === 'clear') {\n            console.clear = function() {\n                originalConsole.clear();\n                try { window.parent.postMessage({ type: 'iframe-console', method: 'clear' }, '*'); }\n                catch(e) { originalConsole.error('SWO Console bridge error (clear):', e); }\n            };\n        } else {\n            console[methodName] = function(...args) {\n                originalConsole[methodName](...args);\n                try { window.parent.postMessage({ type: 'iframe-console', method: methodName, args: formatArgsForPostMessage(args) }, '*'); }\n                catch(e) { originalConsole.error('SWO Console bridge error ('+methodName+'):', e); }\n            };\n        }\n    });\n\n    window.addEventListener('error', function(event) {\n        const errorArgs = [`Unhandled error: ${event.message}`, `at ${event.filename || 'unknown'}:${event.lineno || 0}:${event.colno || 0}`];\n        originalConsole.error(...errorArgs);\n        try { window.parent.postMessage({ type: 'iframe-console', method: 'error', args: errorArgs }, '*'); }\n        catch(e) { originalConsole.error('SWO Console bridge error (onerror):', e); }\n    });\n\n    window.addEventListener('unhandledrejection', function(event) {\n        const reason = event.reason instanceof Error ? `${event.reason.message}\\n${event.reason.stack}` : String(event.reason);\n        const rejectionArgs = ['Unhandled promise rejection:', reason];\n        originalConsole.warn(...rejectionArgs);\n        try { window.parent.postMessage({ type: 'iframe-console', method: 'warn', args: rejectionArgs }, '*'); }\n        catch(e) { originalConsole.error('SWO Console bridge error (unhandledrejection):', e); }\n    });\n    \n    // Notify parent that bridge is ready\n    setTimeout(() => {\n        try { \n            window.parent.postMessage({ type: 'iframe-ready' }, '*');\n            originalConsole.log(\"SWO Console bridge initialized in iframe.\");\n        } catch(e) { originalConsole.error('SWO Console bridge error (ready):', e); }\n    }, 0);\n})();\n<\/script>\n"}},{key:"updatePreview",value:function(){if(this.elements.previewFrame){var e=this.monacoEditor?this.monacoEditor.getValue():"",t=this._getIframeConsoleBridgeScript()+e;this.elements.previewFrame.src="data:text/html;charset=utf-8,"+encodeURIComponent(t)}}},{key:"openPreviewInNewTab",value:function(){var e=this.monacoEditor?this.monacoEditor.getValue():"",t=this._getIframeConsoleBridgeScript()+e,o=new Blob([t],{type:"text/html"}),n=URL.createObjectURL(o),s=window.open(n,"_blank");setTimeout((function(){URL.revokeObjectURL(n)}),5e3),s||(URL.revokeObjectURL(n),alert("Popup blocked! Please allow popups for this site to open the preview in a new tab."))}},{key:"addCrossOriginToAssets",value:function(e){if("string"!=typeof e)return console.error("Input must be an HTML string."),e;try{var t=(new DOMParser).parseFromString(e,"text/html");return t.querySelectorAll(["img","audio","video","a-asset-item"].join(", ")).forEach((function(e){e.hasAttribute("src")&&e.setAttribute("crossorigin","anonymous")})),(new XMLSerializer).serializeToString(t)}catch(t){return console.error("Error processing HTML string to add crossorigin:",t),e}}},{key:"resizePreviewDevice",value:function(e,t){this.elements.previewDevicesContainer&&(this.elements.previewDevicesContainer.style.maxWidth=e,this.elements.previewDevicesContainer.style.height=t,this.elements.previewDevicesContainer.style.margin="100%"!==e?"auto":"")}},{key:"toggleConsole",value:function(){var e=this.elements,t=!e.consoleContainer.classList.contains("swo-hidden");e.consoleUIElements.forEach((function(e){e.classList.toggle("swo-hidden",t)}));var o=!t;this._updateButtonActiveState(e.toggleConsoleBtn,o);var n=e.rightPane.offsetHeight,s=e.resizeHandleConsole.offsetHeight;o?(e.previewPaneContainer.style.height="".concat(.66*(n-s),"px"),e.consoleContainer.style.height="".concat(.34*(n-s),"px")):e.previewPaneContainer.style.height="".concat(n,"px")}},{key:"toggleCodeEditor",value:function(){var e=this.elements,t=!1;e.codeEditorUIElements.forEach((function(o){var n=o.classList.contains("swo-hidden");o.classList.toggle("swo-hidden",!n),o===e.editorPane&&n?t=!0:o!==e.editorPane||n||(t=!1)})),this._updateButtonActiveState(e.toggleCodeEditorBtn,t)}},{key:"formatCode",value:function(){if("function"==typeof html_beautify&&this.monacoEditor){var e=this.monacoEditor.getValue();try{var t=html_beautify(e,{wrap_line_length:120,indent_size:2,indent_char:" "});this.monacoEditor.setValue(t)}catch(e){console.error("SWO: Error during code formatting with js-beautify:",e),alert("Could not format the code. Check console for errors.")}}}},{key:"_handleIframeMessage",value:function(e){if(e.source===this.elements.previewFrame.contentWindow&&e.data){var t=e.data;if("iframe-console"===t.type){var o=document.createElement("div");o.classList.add("swo-console-message-line");var n="swo-console-log",s="âž¡ï¸";switch(t.method){case"error":n="swo-console-error",s="âŒ";break;case"warn":n="swo-console-warn",s="âš ï¸";break;case"info":n="swo-console-info",s="â„¹ï¸";break;case"debug":n="swo-console-debug",s="ðŸž";break;case"clear":return this._clearConsoleOutput(!1),void this._logSpecialMessageToConsole("Console cleared by iframe.","swo-console-cleared")}o.classList.add(n);var i=document.createElement("span");i.className="swo-console-message-icon",i.textContent=s,o.appendChild(i);var r=document.createElement("div");if(r.className="swo-console-message-content-wrapper",t.args&&t.args.length>0){var a=document.createElement("pre");a.className="swo-console-message-content",a.textContent=t.args.join(" "),r.appendChild(a)}else{var l=document.createElement("span");l.textContent="log"===t.method?"(empty log)":"(".concat(t.method," with no arguments)"),l.style.opacity="0.7",l.style.fontStyle="italic",r.appendChild(l)}o.appendChild(r),this.elements.consoleOutput.appendChild(o),this.elements.consoleOutput.scrollTop=this.elements.consoleOutput.scrollHeight}else"iframe-ready"===t.type&&this._logSpecialMessageToConsole("Console connected.","swo-console-connected")}}},{key:"_clearConsoleOutput",value:function(e){this.elements.consoleOutput.innerHTML="",e&&this._logSpecialMessageToConsole("Console cleared by editor.","swo-console-cleared")}},{key:"_logSpecialMessageToConsole",value:function(e,t){var o=document.createElement("div");o.className="swo-console-special-message ".concat(t),o.textContent=e,this.elements.consoleOutput.appendChild(o),this.elements.consoleOutput.scrollTop=this.elements.consoleOutput.scrollHeight}},{key:"_updateButtonActiveState",value:function(e,t){e&&(t?e.classList.add("swo-active"):e.classList.remove("swo-active"))}},{key:"_onPaneResizeMouseDown",value:function(e){e.preventDefault(),this.isResizingPanes=!0,this._initialMouseX=e.clientX,this._initialEditorWidth=this.elements.editorPane.offsetWidth,this.elements.previewFrameCover.classList.remove("swo-hidden"),document.body.style.cursor="col-resize",document.body.style.userSelect="none",this._boundHandlePaneMouseMove=this._handlePaneMouseMove.bind(this),this._boundHandlePaneMouseUp=this._handlePaneMouseUp.bind(this),document.addEventListener("mousemove",this._boundHandlePaneMouseMove),document.addEventListener("mouseup",this._boundHandlePaneMouseUp)}},{key:"_handlePaneMouseMove",value:function(e){if(this.isResizingPanes){var t=e.clientX-this._initialMouseX,o=this._initialEditorWidth+t,n=this.elements.editorPane.parentElement.offsetWidth,s=this.elements.resizeHandle.offsetWidth,i=Math.max(100,.15*n);o=Math.max(i,Math.min(o,n-i-s)),this.elements.editorPane.style.width="".concat(o,"px")}}},{key:"_handlePaneMouseUp",value:function(){this.isResizingPanes&&(this.isResizingPanes=!1,this.elements.previewFrameCover.classList.add("swo-hidden"),document.body.style.cursor="default",document.body.style.userSelect="",document.removeEventListener("mousemove",this._boundHandlePaneMouseMove),document.removeEventListener("mouseup",this._boundHandlePaneMouseUp))}},{key:"_onPaneResizeDoubleClick",value:function(){this.elements.editorPane.style.width="calc(50% - 0.25rem)"}},{key:"_onConsoleResizeMouseDown",value:function(e){e.preventDefault(),this.isResizingConsole=!0,this._initialMouseYConsole=e.clientY,this._initialPreviewHeight=this.elements.previewPaneContainer.offsetHeight,this.elements.previewFrameCover.classList.remove("swo-hidden"),document.body.style.cursor="row-resize",document.body.style.userSelect="none",this._boundHandleConsoleResizeMouseMove=this._handleConsoleResizeMouseMove.bind(this),this._boundHandleConsoleResizeMouseUp=this._handleConsoleResizeMouseUp.bind(this),document.addEventListener("mousemove",this._boundHandleConsoleResizeMouseMove),document.addEventListener("mouseup",this._boundHandleConsoleResizeMouseUp)}},{key:"_handleConsoleResizeMouseMove",value:function(e){if(this.isResizingConsole){var t=e.clientY-this._initialMouseYConsole,o=this._initialPreviewHeight+t,n=this.elements.rightPane.offsetHeight,s=this.elements.resizeHandleConsole.offsetHeight,i=Math.max(50,.1*n),r=n-(o=Math.max(i,Math.min(o,n-i-s)))-s;this.elements.previewPaneContainer.style.height="".concat(o,"px"),this.elements.consoleContainer.style.height="".concat(r,"px")}}},{key:"_handleConsoleResizeMouseUp",value:function(){this.isResizingConsole&&(this.isResizingConsole=!1,this.elements.previewFrameCover.classList.add("swo-hidden"),document.body.style.cursor="default",document.body.style.userSelect="",document.removeEventListener("mousemove",this._boundHandleConsoleResizeMouseMove),document.removeEventListener("mouseup",this._boundHandleConsoleResizeMouseUp))}},{key:"_getDefaultInitialCode",value:function(){return'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Live Preview</title>\n    <style>\n        body { font-family: sans-serif; background-color: #f0f0f0; color: #333; padding: 20px; margin: 0; }\n        h1 { color: steelblue; }\n        button { background-color: steelblue; color: white; padding: 10px 15px; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px; }\n        button:hover { background-color: darkslateblue; }\n        .output { margin-top: 10px; padding: 10px; border: 1px solid #ccc; background-color: #fff; min-height: 20px; }\n        .note { font-size: 0.9em; color: #555; margin-top:15px; }\n    </style>\n</head>\n<body>\n    <h1>Hello SenangWebs One!</h1>\n    <p>This is a live preview. Edit the code on the left. Check the console for messages.</p>\n    <button id="testBtn">Log Message</button>\n    <button id="errorBtn">Log Error</button>\n    <div id="outputDiv" class="output"></div>\n    <p class="note">Open your browser\'s developer console to see original logs too.</p>\n    <script>\n        console.log("Iframe script loaded!", { a: 1, b: "text" });\n        console.warn("This is a warning from iframe.");\n        const testBtn = document.getElementById(\'testBtn\');\n        const errorBtn = document.getElementById(\'errorBtn\');\n        const outputDiv = document.getElementById(\'outputDiv\');\n        let clickCount = 0;\n        if (testBtn) {\n            testBtn.addEventListener(\'click\', () => {\n                clickCount++;\n                const complexObject = { id: clickCount, timestamp: new Date(), nested: { data: [1,2,3] } };\n                console.log("Button clicked:", clickCount, "times.", complexObject);\n                if(outputDiv) outputDiv.textContent = "Logged to SWO console. Click: " + clickCount;\n            });\n        }\n        if (errorBtn) {\n            errorBtn.addEventListener(\'click\', () => {\n                console.error("This is a test error!", new Error("Something went wrong in iframe"));\n            });\n        }\n        // Test unhandled error\n        // setTimeout(() => { throw new Error("Test unhandled error from iframe"); }, 2000);\n        // Test unhandled promise rejection\n        // Promise.reject("Test unhandled promise rejection from iframe");\n    <\/script>\n</body>\n</html>'}},{key:"destroy",value:function(){window.removeEventListener("message",this._handleIframeMessage.bind(this)),this.monacoEditor&&this.monacoEditor.dispose(),this.targetElement.innerHTML="",this.targetElement.classList.remove("swo-container"),this.elements={},this.monacoEditor=null,delete this.targetElement.swoInstance}}],t&&n(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function r(){document.querySelectorAll("[data-swo]").forEach((function(e){e.swoInstance||(e.swoInstance=new i(e,{}))}))}"undefined"!=typeof window&&("complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?r():document.addEventListener("DOMContentLoaded",r));const a=i;return t.default})()));